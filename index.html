<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Team VIBE</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;800&display=swap" rel="stylesheet">
  <meta property="og:title" content="Team VIBE" />
  <meta property="og:description" content="Valuing Ideas, Building engagement" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="Fun.jpg" />
  <meta name="theme-color" content="#111827" />
  <style>
    :root { --bg:#0b1220; --card:#111827; --muted:#94a3b8; --text:#e5e7eb; --accent:#22c55e; --border:#1f2937; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;color:var(--text);background:linear-gradient(180deg,#0b1220,#0b1220 40%,#0d1324 100%)}
    header{padding:0 0 8px 0;position:static;top:auto;z-index:auto;background:transparent;border-bottom:0}

    /* Hero */
    .hero{max-width:1100px;margin:0 auto;padding:18px 16px 8px;display:flex;flex-direction:column;align-items:center;gap:12px}
    .brand{width:100%;max-width:1100px;height:auto;border-radius:16px;box-shadow:0 18px 40px rgba(0,0,0,.45);border:1px solid var(--border);object-fit:cover}
    .brand-title{margin:0;font-family:'Poppins',system-ui,Segoe UI,Roboto;font-weight:800;font-size:72px;line-height:1.05;text-align:center;letter-spacing:.3px;background:linear-gradient(90deg,#60a5fa,#a78bfa,#f472b6,#60a5fa);background-size:200% 200%;-webkit-background-clip:text;background-clip:text;color:transparent;animation:gradientShift 6s ease-in-out infinite alternate}
@media(min-width:768px){.brand-title{font-size:96px}}
@media(min-width:1200px){.brand-title{font-size:110px}}
@media(min-width:768px){.brand-title{font-size:76px}}
@media(min-width:1200px){.brand-title{font-size:88px}}
    @media(min-width:768px){.brand-title{font-size:60px}}
    .brand-quote{color:var(--muted);font-size:20px;text-align:center;font-style:italic;opacity:1;animation:fadeUp 1.2s ease-out both} @media(min-width:768px){.brand-quote{font-size:24px}} @media(min-width:768px){.brand-quote{font-size:20px}}

    main{max-width:1100px;margin:12px auto 100px;padding:0 16px}

    /* Admin bar */
    .topbar{display:flex;gap:10px;align-items:center;justify-content:space-between;margin:10px 0}
    .topbar .left{display:flex;gap:14px;align-items:center;flex-wrap:nowrap;overflow:auto}
    .pill{border:1px solid var(--border);border-radius:22px;padding:12px 18px;font-size:18px;font-weight:800;letter-spacing:.2px;background:#0d1728;box-shadow:0 6px 20px rgba(0,0,0,.25);white-space:nowrap}
    .pill.total{background:linear-gradient(135deg,#1d4ed8,#3b82f6);color:#0b1220;border-color:transparent}
    .pill.used{background:linear-gradient(135deg,#f87171,#fca5a5);color:#0b1220;border-color:transparent}
    .pill.available{background:linear-gradient(135deg,#16a34a,#22c55e);color:#0b1220;border-color:transparent}
    .admin-btn{appearance:none;border:1px solid var(--border);background:#0d1728;color:var(--text);padding:8px 12px;border-radius:10px;font-size:13px;cursor:pointer}
    .admin-btn.active{background:#22c55e;color:#0b1220;font-weight:800}

    /* Cards */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{grid-column:span 12;background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    @media(min-width:640px){.card{grid-column:span 6}}
    @media(min-width:1024px){.card{grid-column:span 4}}
    .frame-wrap{position:relative;width:100%;aspect-ratio:16/9;max-height:220px;background:#0a0f1a}
    .frame-wrap iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
    .meta{padding:12px 12px 8px}
    .title{font-weight:600;font-size:15px;line-height:1.3;margin-bottom:6px}
    .url{font-size:12px;color:var(--muted);word-break:break-all}
    .actions{display:flex;gap:8px;padding:12px;border-top:1px solid var(--border);flex-wrap:wrap}
    button,a.btn{appearance:none;border:1px solid var(--border);background:#0d1728;color:var(--text);padding:6px 8px;border-radius:999px;font-size:12px;text-decoration:none;cursor:pointer}
    .btn-primary{border-color:transparent;background:var(--accent);color:#0b1220;font-weight:700}
    .empty{text-align:center;color:var(--muted);padding:48px 12px;border:1px dashed var(--border);border-radius:16px}
    .footer-share{position:fixed;right:16px;bottom:16px;display:flex;gap:8px;z-index:10}
    .fab{border-radius:999px;padding:10px 14px;font-weight:700}
    .note{color:var(--muted);font-size:12px;margin:8px 0 0}
    .thumb{position:relative;width:100%;height:100%;background:#0a0f1a center/cover no-repeat}
    .thumb .play{position:absolute;inset:0;display:block}
    .thumb::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.0),rgba(0,0,0,.35))}
    .thumb::before{content:"";position:absolute;left:50%;top:50%;width:44px;height:44px;margin:-22px 0 0 -22px;border-radius:50%;background:rgba(0,0,0,.55);box-shadow:0 4px 12px rgba(0,0,0,.4)}
    .play::after{content:"";position:absolute;left:50%;top:50%;margin:-9px 0 0 -6px;width:0;height:0;border-left:18px solid white;border-top:10px solid transparent;border-bottom:10px solid transparent}
    .used-btn.used{background:#16a34a;color:#fff;font-weight:600}
    .used-btn.disabled{opacity:0.5;pointer-events:none}

    /* Safety: hide any stray legacy stats blocks */
    .stats:not(#statsbar){display:none}
  @keyframes popIn{0%{opacity:0;transform:translateY(10px) scale(.98)}100%{opacity:1;transform:translateY(0) scale(1)}}
@keyframes gradientShift{0%{background-position:0% 50%}100%{background-position:100% 50%}}
@keyframes fadeUp{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}
@media(prefers-reduced-motion:reduce){.brand-title,.brand-quote{animation:none}}

/* --- Extra animations --- */
@keyframes spinSoft{0%{transform:translateY(0) rotate(0) scale(1)}50%{transform:translateY(-4px) rotate(6deg) scale(1.02)}100%{transform:translateY(0) rotate(360deg) scale(1)}}
@keyframes slideLR{0%{transform:translateX(-18px)}50%{transform:translateX(18px)}100%{transform:translateX(0)}}
@keyframes slideRL{0%{transform:translateX(18px)}50%{transform:translateX(-18px)}100%{transform:translateX(0)}}
@keyframes popPulse{0%{transform:scale(0.96)}35%{transform:scale(1.06)}70%{transform:scale(0.98)}100%{transform:scale(1)}}
@keyframes wobble{0%{transform:rotate(0)}25%{transform:rotate(-6deg)}50%{transform:rotate(6deg)}75%{transform:rotate(-3deg)}100%{transform:rotate(0)}}

.anim-spin{animation:spinSoft 3.5s ease-in-out forwards}
.anim-left{animation:slideLR 3s ease-in-out forwards}
.anim-right{animation:slideRL 3s ease-in-out forwards}
.anim-pop{animation:popPulse 2.8s ease-in-out forwards}
.anim-wobble{animation:wobble 3s ease-in-out forwards}

  </style>
  <script async src="https://www.instagram.com/embed.js"></script>
</head>
<body>
  <header>
    <div class="hero">
      <img id="brand-img" class="brand" src="assets/Fun.jpg" alt="Team VIBE" onerror="this.style.display='none'"/>
      <h1 class="brand-title">Team VIBE</h1>
      <div class="brand-quote">‚ÄúValuing Ideas ,Building engagement‚Äù</div>
    </div>
  </header>

  <main>
    <div class="topbar">
      <div class="left" id="statsbar">
        <div class="pill total" id="count-total">Total: ‚Äî</div>
        <div class="pill used" id="count-used">Used: ‚Äî</div>
        <div class="pill available" id="count-available">Available: ‚Äî</div>
      </div>
      <button id="adminToggle" class="admin-btn" title="Enable edit mode to toggle Used">üîí Edit</button>
    </div>

    <div id="grid" class="grid"></div>
    <div id="empty" class="empty" style="display:none;">No links yet. Edit this file and add your URLs in the <code>items</code> list.</div>
    <p class="note">Problems loading? For Instagram, we try to embed automatically. If it fails, tap <em>Open in Instagram</em>. YouTube Shorts play inline.</p>
  </main>

  <div class="footer-share">
    <a id="sharePage" class="btn btn-primary fab" href="#">Share Page on WhatsApp</a>
  </div>

  <script>
    // ======== Your links =========
    const items = [
      { title: "Drop the Pen in bottle using Mobile camera", url: "https://www.instagram.com/reel/DNP0ZztvnvZ/?igsh=M3h2M3Z5eGE2amlw" },
      { title: "Fan the Cup", url: "https://www.instagram.com/reel/DMvARSAz6qY/?igsh=MTh2cXp2M2hndW1rbA%3D%3D" },
      { title: "Strick standing Challenge", url: "https://www.instagram.com/reel/DNQEm21vdpB/?igsh=c2d2bTZyc255aTc=" },
      { title: "Hanger Transfer", url: "https://www.instagram.com/reel/DOBPgExCLgo/?igsh=MTJpazR0aHBjcjdibw==" },
      { title: "Multiple games in this Reel", url: "https://www.instagram.com/reel/DOGK-8KEskO/?igsh=MWl6cTg5cXhldmRibA==" },
      { title: "Do the Opposites", url: "https://www.instagram.com/reel/DOycseHE_NS/?igsh=eTI4ZTJ4YnRjYzM4" },
      { title: "Mission Bottle escape", url: "https://www.instagram.com/reel/DMfKLvcvbwF/?igsh=MXI0bDRicTV1ZmdlcA==" },
      { title: "Ball Gate", url: "https://www.instagram.com/reel/DLZLzUpy9JE/?igsh=MXg5dnYwaDk4ZDd0aQ==" },
      { title: "Catch it if you can", url: "https://www.instagram.com/reel/DMaaKp2TY1I/?igsh=MTk3MDYzNzA2cDI0bQ==" },
      { title: "Whats hiding in the cup?", url: "https://www.instagram.com/reel/DLZ39itSv5I/?igsh=MWkweXdpb2w2djFsNA==" },
      { title: "Spin and Drop the ball with bottle", url: "https://www.instagram.com/reel/DNFGKpSSJX1/?igsh=MTh0OXQ5OTd3bHUxMQ==" },
      { title: "Don't Clap At the Same Time", url: "https://www.instagram.com/reel/DK14cTbpnXc/?igsh=MWluNmtwYTU3ZHl0cA==" },
      { title: "Don't follow the hand", url: "https://www.instagram.com/reel/DLm-ckQSnaZ/?igsh=aTQxbW80cXo5eHF6" },
      { title: "Fill the cup with chocolate with papercup in both hand", url: "https://www.instagram.com/reel/DNlQfNvSZuO/?igsh=bHBxdzg3Nng1ZnNr" },
      { title: "Collect the cup with straw", url: "https://www.instagram.com/reel/DNqUyH0o_On/?igsh=MXFhNnF5ZGozdmo1NA==" },
      { title: "Flip the bottle", url: "https://youtube.com/shorts/JHU9ac717Tw?si=iho1cq6aS14VMxFz" },
      { title: "Blow the Cup with balloon", url: "https://www.instagram.com/reel/DNQYH_YSrvx/?igsh=MXRjYWlybHc5ZmV5bA==" },
      { title: "Tower Cup Challenge", url: "https://www.instagram.com/reel/DLZp5RYv7aY/?igsh=NTV6Z2hzcXBwNDF0" },
      { title: "Communication challenge", url: "https://youtube.com/shorts/RO0uJrbk1kc?si=c24-sWUk3MrDTOl2" },
      { title: "Don't Drop the Balloon", url: "https://youtube.com/shorts/N_xj-Zc762U?si=oJLotePSpF1qAzhC" },
      { title: "Head, Shoulder,Knees and pick the  item", url: "https://youtube.com/shorts/m_QEcL7dK7I?si=_6uZ3ArVQhS7lCj3" },
      { title: "Build the tower with Marshmallow", url: "https://youtu.be/7ZMuHZv47bQ?si=VMx2ypYdEXjBgfz9" },
      { title: "Goal the Ball", url: "https://youtube.com/shorts/bQYxwodUM2c?si=WlULSCE0Sh4vSUE-" },
      { title: "Hold the Paper with Straw", url: "https://youtube.com/shorts/mJgk6DLG7t0?si=fPG24w4lrdbg1nnG" },
      { title: "Build the pyramid with cup in head", url: "https://youtu.be/e-qehXWt36Y?si=QNK8HizfkpOFXmCE" },
      { title: "Cup and straw Balance", url: "https://youtube.com/shorts/PSDLwatlT2Q?si=jCuzv0y18d1uB3a6" },
      { title: "Hold the ball with Pen", url: "https://www.instagram.com/reel/DIog4Lnh-JV/?igsh=MWRiMGZkd2V1NWU3OQ==" },
      { title: "Spin and jump into your paper", url: "https://www.instagram.com/reel/DKPfi9ChQkg/?igsh=MTF2dWFwZ3NiMmMzMA==" },
      { title: "Transfer the ball with A4 paper", url: "https://www.instagram.com/reel/DMhVD5wRqa7/?igsh=emxtN2MzdzJ4ZDk4" },
      { title: "Catch the ball", url: "https://youtube.com/shorts/2cWj0XGiwGY?si=6J2kxLH1UWkUTM1y" }
    ];

    // Platform helpers
    function detectPlatform(u){
      try{const x=new URL(u);const h=x.hostname.replace(/^www\./,'');
        if(h.endsWith('youtube.com')||h==='youtu.be') return 'youtube';
        if(h.endsWith('instagram.com')) return 'instagram';
      }catch{}
      return 'other';
    }
    function youtubeId(u){
      try{const x=new URL(u);if(x.hostname==='youtu.be'){return x.pathname.slice(1);} 
        if(x.pathname.startsWith('/shorts/')) return x.pathname.split('/')[2];
        if(x.searchParams.get('v')) return x.searchParams.get('v');
      }catch{}
      return null;
    }
    function youtubeEmbed(u){const id=youtubeId(u);return id?`https://www.youtube.com/embed/${id}`:null}

    function getThumb(item){
      if(item.thumb) return item.thumb;
      return 'data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 675"><defs><linearGradient id="g" x1="0" y1="0" x2="0" y2="1"><stop offset="0" stop-color="#111827"/><stop offset="1" stop-color="#0b1220"/></linearGradient></defs><rect width="1200" height="675" fill="url(#g)"/><text x="50%" y="90%" dominant-baseline="middle" text-anchor="middle" fill="#94a3b8" font-family="system-ui,Segoe UI,Roboto" font-size="32">Tap to open</text></svg>`);
    }

    // === Admin (edit) mode ===
    const ADMIN_HASH = 'ed946f65d2c785d90e827c5ffd879ce3b49c68d4c88013074176a7e73bc58bcf'; // SHA-256 of your PIN '2580' (example)
    let adminEnabled = false;
    async function sha256(text){
      const data = new TextEncoder().encode(text);
      const hashBuffer = await crypto.subtle.digest('SHA-256', data);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2,'0')).join('');
    }
    async function toggleAdmin(){
      if(adminEnabled){ adminEnabled=false; document.getElementById('adminToggle').classList.remove('active'); document.getElementById('adminToggle').textContent='üîí Edit'; refreshUsedButtons(); return; }
      const pin = prompt('Enter Edit PIN');
      if(!pin) return;
      const h = await sha256(pin.trim());
      if(h === ADMIN_HASH){ adminEnabled=true; document.getElementById('adminToggle').classList.add('active'); document.getElementById('adminToggle').textContent='‚úÖ Editing'; refreshUsedButtons(); }
      else { alert('Wrong PIN'); }
    }
    document.getElementById('adminToggle').addEventListener('click', toggleAdmin);

    // Persist Used state
    const USED_KEY='used-items-v1';
    const usedStore=new Set(JSON.parse(localStorage.getItem(USED_KEY)||'[]'));
    function saveUsed(){localStorage.setItem(USED_KEY,JSON.stringify([...usedStore]));}

    function updateCounts(){
      try{
        const total = items.length;
        const used = items.filter(i=>usedStore.has(i.url)).length;
        const available = total - used;
        const t=document.getElementById('count-total'); if(t) t.textContent=`Total: ${total}`;
        const u=document.getElementById('count-used'); if(u) u.textContent=`Used: ${used}`;
        const a=document.getElementById('count-available'); if(a) a.textContent=`Available: ${available}`;
      }catch(e){ console.warn('counts update error', e); }
    }

    function refreshUsedButtons(){
      document.querySelectorAll('.used-btn').forEach(btn=>{
        if(adminEnabled){ btn.classList.remove('disabled'); btn.title='Mark as Used'; }
        else { btn.classList.add('disabled'); btn.title='Only editors can change Used'; }
      });
    }

    function makeCard(item) {
      const platform = detectPlatform(item.url);
      const openLabel = platform==='youtube' ? 'Open in YouTube' : platform==='instagram' ? 'Open in Instagram' : 'Open link';
      const shareText = encodeURIComponent(`${item.title ? item.title + ' ‚Äì ' : ''}${item.url}`);
      const waLink = `https://wa.me/?text=${shareText}`;
      const card = document.createElement('div');
      card.className = 'card';

      let mediaHTML='';
      if(platform==='youtube' && youtubeEmbed(item.url)){
        mediaHTML = `<iframe src="${youtubeEmbed(item.url)}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>`;
      } else if(platform==='instagram') {
        // Try Instagram official embed
        mediaHTML = `
          <div class="frame-wrap">
            <blockquote class="instagram-media" data-instgrm-permalink="${item.url}" data-instgrm-version="14" style="margin:0 auto; max-width:540px; width:100%; background:#FFF; border:0; border-radius:3px; box-shadow:none;"></blockquote>
          </div>`;
      } else {
        mediaHTML = `<div class="thumb" style="background-image:url('${getThumb(item)}')"><a class="play" target="_blank" rel="noopener" href="${item.url}"></a></div>`;
      }

      const isUsed = usedStore.has(item.url);

      card.innerHTML = `
        <div class="frame-wrap">${mediaHTML}</div>
        <div class="meta">
          <div class="title">${item.title ? item.title.replace(/</g,'&lt;') : 'Link'}</div>
          <div class="url">${item.url.replace(/</g,'&lt;')}</div>
        </div>
        <div class="actions">
          <a class="btn" target="_blank" rel="noopener" href="${item.url}">${openLabel}</a>
          <a class="btn" target="_blank" rel="noopener" href="${waLink}">Share on WhatsApp</a>
          <button class="btn" data-copy="${item.url}">Copy link</button>
          <button class="btn used-btn ${isUsed?'used':''}" data-url="${item.url}">${isUsed?'Used ‚úì':'Used'}</button>
        </div>`;

      card.querySelector('button[data-copy]').addEventListener('click', async (e) => {
        try { await navigator.clipboard.writeText(item.url); e.currentTarget.textContent='Copied!'; setTimeout(()=>e.currentTarget.textContent='Copy link',1200); }
        catch { alert('Copy failed. Long-press and copy the link.'); }
      });

      const usedBtn = card.querySelector('.used-btn');
      usedBtn.addEventListener('click',(e)=>{
        if(!adminEnabled) return; // read-only for non-admins
        const url=e.currentTarget.getAttribute('data-url');
        if(usedStore.has(url)){ usedStore.delete(url); e.currentTarget.classList.remove('used'); e.currentTarget.textContent='Used'; }
        else { usedStore.add(url); e.currentTarget.classList.add('used'); e.currentTarget.textContent='Used ‚úì'; }
        saveUsed();
        updateCounts();
      });

      return card;
    }

    const grid = document.getElementById('grid');
    if (!items.length) {
      document.getElementById('empty').style.display = 'block';
    } else {
      items.forEach(i => grid.appendChild(makeCard(i)));
    }

    // Process Instagram embeds (if any)
    function processInsta(){
      try{ if(window.instgrm && window.instgrm.Embeds && window.instgrm.Embeds.process){ window.instgrm.Embeds.process(); }}catch{}
    }
    processInsta();
    window.addEventListener('load', processInsta);

    // Update counts now and after load
    updateCounts();
    window.addEventListener('load', ()=>{ updateCounts(); refreshUsedButtons(); });
    refreshUsedButtons();

    // Page share
    const shareBtn = document.getElementById('sharePage');
    const pageWa = `https://wa.me/?text=${encodeURIComponent('Team VIBE ‚Äì Insta & YouTube ' + window.location.href)}`;
    shareBtn.href = pageWa;
    if (navigator.share) {
      shareBtn.addEventListener('click', async (e) => {
        e.preventDefault();
        try { await navigator.share({ title: document.title, text: 'Team VIBE ‚Äì Insta & YouTube', url: window.location.href }); } catch {}
      });
    }
  </script>
  <script>
    // Continuous but alternating animations for title & quote
    (function(){
      const title = document.querySelector('.brand-title');
      const quote = document.querySelector('.brand-quote');
      if(!title || !quote) return;
      const titleAnims = ['anim-spin','anim-left','anim-right','anim-pop','anim-wobble'];
      const quoteAnims = ['anim-left','anim-right','anim-pop','anim-wobble']; // avoid full spin for readability
      let lastT = '', lastQ = '';

      function runCycle(){
        // pick a title animation different from lastT
        let ta; do { ta = titleAnims[Math.floor(Math.random()*titleAnims.length)]; } while(ta===lastT);
        // pick a quote animation different from title's and lastQ
        let qa; do { qa = quoteAnims[Math.floor(Math.random()*quoteAnims.length)]; } while(qa===ta || qa===lastQ);
        lastT = ta; lastQ = qa;
        // reset classes to retrigger
        title.classList.remove('anim-spin','anim-left','anim-right','anim-pop','anim-wobble');
        quote.classList.remove('anim-spin','anim-left','anim-right','anim-pop','anim-wobble');
        // small desync: title now, quote slightly later so they don't sync
        void title.offsetWidth; // reflow
        title.classList.add(ta);
        setTimeout(()=>{ quote.classList.add(qa); }, 400); // staggered start
      }

      // initial cycle after load-in animations finish
      setTimeout(runCycle, 1200);
      // repeat
      setInterval(runCycle, 5000);

      // Respect reduce motion
      const media = window.matchMedia('(prefers-reduced-motion: reduce)');
      if(media.matches){
        clearInterval(runCycle);
        title.style.animation = 'none';
        quote.style.animation = 'none';
      }
    })();
  </script>
</body>
</html>

